<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="css/reset.css">
</head>

<body>
  <canvas id="canvas"></canvas>
  <script src="js/draw.js"></script>
  <script src="js/lib/mock.js"></script>
  <script>
    var canvas = document.getElementById('canvas');
    var winWidth = window.innerWidth;
    var winHeight = window.innerHeight
    canvas.width = winWidth;
    canvas.height = winHeight;

    var ctx = canvas.getContext('2d');
    var timerId = null;
    var o = {
      x: ran(winWidth),
      y: ran(winHeight),
      r: 30,
      vx: ran(10),
      vy: ran(10),
      color: Mock.Random.color()
    }

    // circle();
    function ran(num) {
      return num ? Math.random() * num : Math.random();
    }


    function circle() {
      ctx.beginPath();
      ctx.arc(o.x, o.y, o.r, 0, 360);
      ctx.fillStyle = o.color;
      ctx.fill();
      ctx.closePath();
    }

    function draw() {
      // ctx.clearRect(0, 0, winWidth, winHeight);
      Draw(canvas)
      .rect(0,0,winWidth,winHeight)
      .fill('rgba(255,255,255,.1)')
      // stage-1 
      // o.x+=10;
      // o.y+=10;

      // stage-2
      if (o.y > (winHeight - o.r) || (o.y < o.r)) {
        o.vy = -o.vy;
      }

      if (o.x > (winWidth - o.r) || (o.x < o.r)) {
        o.vx = -o.vx;
      }
      o.x += o.vx;
      o.y += o.vy;

      // o.color=Mock.Random.color();
      circle();
      timerId = requestAnimationFrame(draw);
    }

    draw();

    // requestAnimationFrame
  </script>
</body>

</html>